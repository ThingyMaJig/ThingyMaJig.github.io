---
categories:
- drupal
- linux
layout: post
title: How to run Drush as Apache
created: 1344597251
permalink: blog/10-08-2012/how-to-run-drush-as-apache
---
<p>It's usually considered <em>best practice</em> to run Drush under the same user account that the webserver runs on. Some modules, such as XML Sitemap, Advanced Aggregator and cTools, often try to alter or generate files. If you run Drush under your own account then these files may get generated as you (and therefore become unwritable by the webserver) or, if the files were generated by the webserver, are usually unwritable by your user which can mean you get errors and being unable to delete/unlink files.</p>
<p>The solution is to run Drush as your webuser, usually Apache. For example:</p>
<pre language="bash">
su -s /bin/sh apache -c "/usr/bin/drush @sites cron -y"
</pre>
<!-- break -->
<p>This method also helps get around the problem/error <code>This account is currently not available</code> by running drush under a shell executed as Apache. On most systems, the apache user is secured to not have a shell account associated with it.</p>
